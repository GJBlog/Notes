## 字符串

#### 子串

> 字符串中任意个连续的字符组成的序列，称为改字符串的子串（subString），包括空串

比如字符串'KMJ', 共7个子串：'','K','M','J','KM','MJ','KMJ'

#### 常用方法

##### 查询 - index

* s.index(x)

  * 查询子串x在s中的最小索引(从左到右搜索)

  * 如果子串x不在s中，会报错，ValueError: substring not found

* s.index(x, i)
  * 在[i, len(s)) 范围内搜索
* s.index(x, i, j)
  * 在[i, j) 范围内搜索

```python
s = 'MJ666MJ666'
print(s.index(s)) => 0
print(s.index('')) => 0
```

##### 查询 - rindex

* s.rindex(x)：r可以理解为right
  * 查询子串x在s中的最大索引(从右往左搜索)
  * 如果子串x不在s中，会报错，ValueError: substring not found

* s.rindex(x, j)
  * 在[i, len(s))范围内搜索
* s.rindex(x, i, j)
  * 在 [i, j) 范围内搜索

```python
s = 'MJ666MJ666'
print(s.rindex(s)) => 0
print(s.rindex('')) => 10
```

* s.find(x)
  * 查询子串x在s中的最小索引(从左往右搜索)
  * 如果子串x不在s中，返回-1
* s.find(x, i)
  * 在[i, len(s)) 范围内搜索
* s.find(x, i, j)
  * 在[i, j) 范围内搜索

```python
s = 'MJ666MJ666'
print(s.find(s)) => 0
print(s.find('')) => 0
```
* s.rfind(x)
  * 查询子串x在s中的最小索引(从右往左搜索)
  * 如果子串x不在s中，返回-1
* s.rfind(x, i)
  * 在[i, len(s)) 范围内搜索
* s.rfind(x, i, j)
  * 在[i, j) 范围内搜索

```python
s = 'MJ666MJ666'
print(s.rfind(s)) => 0
print(s.rfind('')) => 10
```

![image-20221218182157822](/Users/guojie/Notes/Python/images/字符串01.png)

*  s.count(x)
   *  统计s中有多少个子串x(子串之间不重叠)

*  s.count(x, i)
   *  在[i, len(s))范围内统计

*  s.count(x, i, j)
   *  在[i, j) 范围内统计


```python
s = 'MJ666MJ666'
print(s.count(s)) => 1
print(s.count('')) => 11
```

* s.endswith(x)
  * 查看s是否以子串x结尾
* s.endswith(x, i)
  * 在[i, len(s)) 范围内查看
* s.endswith(x, i, j)
  * 在[i, j) 范围内查看

```python
s = 'MJ666MJ666'
print(s.endswith(s)) => True
print(s.endswith('')) => True
```

* s.startswith(x)
  * 查看s是否以子串x开头
* s.startswith(x, i)
  * 在[i, len(s))  范围内查看
* s.startswith(x, i ,j)
  * 在[i, j) 范围内查看

```python
s = 'MJ666MJ666'
print(s.startswith(s)) => True
print(s.startswith('')) => True
```

#### 大小写处理

* s.upper()：返回s的全大写形式
* s.lower()：返回s的全小写形式
* s.isupper()：判断s是否为全大写
* s.islower()：判断s是否为全小写
* s.swapcase()：大写变小写，小写变大写
* s.title()：单词的首字母变大写

* s.captialize()：首字符变大写，其他字符变小写

```python
print(f'My name is {name}, age is {age}')
等价于
print('My name is {}, age is {}'.format(name, age))
```

* s.strip()：删除左右两端的空格字符
* s.strip(x)：删除左右两端的k字符，k字符是x中的任意字符

```python
s1 = 'www.520it.com'
s2 = s1.strip('5mw.ct')
print(s1, s2, sep='\n')
=>
www.520it.com
20it.co
```

* lstrip：只删除左边
* rstrip：只删除右边
* s.join(x)
  * x 是一个可迭代对象
  * x中的所有元素(必须是str)，使用s作为分隔符，拼接成新的字符串

```python
s1 = '+=+'
data = ['red', 'blue', 'green']
s2 = s1.join(data)
print(s2) => red+=+blue+=+green
```

* s.split(x)
  * 以x作为分隔符将s切割出若干个子串
  * 并将这些子串放到一个列表中

``` => sdfsdfsdfpython
s = '192.168.20.48'
print(s.split('.'))
print(s.split('2'))

# 如何将每一个字符都单独切割出来
print(list('GJ666')) => ['G', 'J', '6', '6', '6']
```

* s.split(x, k)
  * k是最大切割次数
  * 当k为负数时，不限制切割次数

* s.zfill(x)
  * 用字符0填充到s的左边，直到字符串的长度达到x

```python
s1 = '45'
s2 = s1.zfill(5)
print(s1, s2) => +45 00045
```

```python
s1 = '+45'
s2 = s1.zfill(5)
print(s1, s2) => +45 +0045
```

* s.replace(x, y)
  * 将所有的子串x替换为字符串y
* s.replace(x, y, k)
  * k是最大替换次数
  * 当k为负数时，不限制替换次数
  * 将当y为空串时，相当于删除子串x
```python
print('192.168.1.20'.replace('.', '_', 2))
=> 192_168_1.20
```

```python
print('GJ666'.replace('', '_'))
=> _G_J_6_6_6_
```

```python
print('www.baidu.com'.replace('ba', ''))
=> www.idu.com
```

* s.removeprefix(x)
  * 删除前缀x
  * 如果s中存在前缀x，等价于 s[len(x):]

```python
s1 = 'www.baidu.com'
print(s1.removeprefix('baidu.'))
=> www.baidu.com
```

* s.removesuffix(x)
  * 删除后缀x
  * 如果s中存在后缀x，等价于s[:-le(x)]
