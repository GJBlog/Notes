## 多态

> 默认情况下，编译器只会根据指针类型调用对应的函数，不存在多态

### 前提知识

* 父类指针可以指向之类对象，是安全的，开发中经常用到(继承方法必须是 **public**)
* 子类指针指向父类对象是不安全的

```c++
struct Person {
  	int m_age;
};
struct Student: Person {
  	int m_score;
};
Person *p = new Student();
p->m_age = 10;

Student *p = (Student *) new Person();
p->m_age = 10;
p->m_score = 100;
```

* 多态是面向对象非常重要的一个特性
  * 同一操作作用于不同的对象，可以有不同的解释，产生不同的执行结果
  * 在运行时，可以识别出真正的对象类型，调用对应子类的函数
* 多态的要素
  * 子类重写父类的成员函数(override)
  * 父类指针指向子类对象
  * 利用父类指针调用重写的成员函数

### 虚函数

* C++中的多态是通过虚函数(**virtual function**)实现

* 虚函数：被**virtual**修饰的成员函数
* 只要在父类中声明为虚函数，子类中重写的函数也自动变成虚函数(也就是说子类中可以省略**virtual**关键字)

