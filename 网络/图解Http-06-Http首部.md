# HTTP首部

## HTTP报文首部

* HTTP协议的请求和响应报文中必定是包含HTTP首部
* 请求报文由方法、URI、HTTP版本、HTTP首部字段等部分构成
* 响应报文由HTTP版本、状态码(数字和原因短语)、HTTP首部字段3部分构成

## HTTP首部字段

* 目的是给浏览器和服务器提供报文主体大小、所使用的语言、认证信息等内容
* 如果当HTTP报文首部中出现了两个或两个以上具有相同首部字段名时，结果会根据浏览器内部处理逻辑的不同而不同。有些浏览器会优先处理第一次出现的首部字段，而有些则会优先处理最后出现的首部字段

#### HTTP首部字段结构

* 结构是由字段名和字段值构成，中间用冒号(:)分割
* 字段值对应单个HTTP首部字段可以有多个值

```
首部字段名:字段值
// 例如设置报文主体的对象类型
Content-Type：text/html
// 字段对应多个值
Keep-Alive：timeout=15, max=100
```

#### HTTP首部字段类型

* 通用首部字段(General Header Fields)：在请求报文和响应报文中都会使用的首部

* 请求首部字段(Request Header Fields)：从客户端向服务器端发送请求报文时使用的首部。补充了请求的附加内容、客户端信息、响应内容相关优先级等信息

* 响应首部字段(Response Header Fields)：从服务器端向客户端返回响应报文时使用的首部。补充了响应的附加内容，也会要求客户端附加额外的内容信息 

* 实体首部字段(Entity Header Fields)：针对请求报文和响应报文的实体部分使用的首部。补充了资源内容更新时间等与实体有关的信息。 

#### End-to-end首部和Hop-by-hop首部

* HTTP 首部字段将定义成缓存代理和非缓存代理的行为，分成如下 2 种类型

##### 端到端首部（End-to-end Header）
    
* 分在此类别中的首部会转发给请求 / 响应对应的最终接收目标，且必须保存在由缓存生成的响应中，另外规定它必须被转发

##### 逐跳首部（Hop-by-hop Header）

* 分在此类别中的首部只对单次转发有效，会因通过缓存或代理而不再转发。HTTP/1.1 和之后版本中，如果要使用 hop-by-hop 首部，需提供 Connection 首部字段。下面的8个都属于逐跳首部字段，其他所有字段属于端到端首部字段。

* Connection
* Keep-Alive
* Proxy-Authenticate
* Proxy-Authorization
* Trailer
* TE
* Transfer-Encoding
* Upgrade

## HTTP/1.1通用首部字段

* 

## 请求首部字段


## 响应首部字段


## 实体首部字段


## Cookie服务的首部字段


## 其他首部字段